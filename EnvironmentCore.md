# EnvironmentCore · Среда, поверхность и условия внешнего окружения

## 1. Назначение модуля

EnvironmentCore отвечает за анализ окружающей среды, поверхности,
условий рельефа, препятствий и ситуационных факторов, которые могут
влиять на движение, устойчивость и поведение организма KITI.

Модуль определяет:

- тип поверхности (твёрдая, мягкая, скользкая, неровная),
- наличие уклонов, ступеней, перепадов высоты,
- потенциальные опасности (яма, край, скользящий участок),
- взаимодействие организма с поверхностью при шагах и опоре,
- корректирующие параметры для MotorCore, PostureCore и StabilityCore.

---

## 2. Источники данных

EnvironmentCore получает информацию от:

- SensorCore — лидары, сонары, касание, давление,
- MotionPlanning — прогноз движения по среде,
- OrientationCore — наклон и положение корпуса,
- Vision/Perception — визуальные признаки препятствий (если включено).

---

## 3. Основные алгоритмы

Модуль использует:

- анализ поверхности по контактным датчикам,
- прогноз изменения состояния опоры при движении,
- вычисление безопасной зоны шага,
- оценку рисков падения или потери опоры,
- динамическую адаптацию под рельеф.

EnvironmentCore создаёт карту среды в упрощённом виде, которую может
использовать каждый модуль, кому нужно понять «где мы стоим» и «можно ли идти дальше».

---

## 4. Выходные сигналы

EnvironmentCore выводит:

- тип поверхности (SurfaceType),
- уровень стабильности точки опоры,
- риск-сигналы (RISK_SLIP, RISK_EDGE, RISK_UNSTABLE),
- параметры безопасного шага (StepSafety),
- рекомендации для PostureCore и MotorPlanningCore.

---

## 5. Связка модулей

Perception → EnvironmentCore → StabilityCore → PostureCore → MotorPlanningCore.

EnvironmentCore — это «ощущение земли под ногами» организма.
Он даёт базу, на которой строится устойчивость и движение.
