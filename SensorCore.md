# SensorCore · Сенсорный контур организма KITI

**SensorCore** — это «органы чувств» KITI в теле робота.  
Он собирает сигналы из физического мира, нормализует их и отдаёт в OrganismCore / BrainCore.

SensorCore не принимает решений.  
Его задача — честно и стабильно показать, *что происходит вокруг*.

---

## 1. Типы сенсоров

SensorCore поддерживает разные классы сенсоров:

- **Зрение** — камеры, глубинные сенсоры, ИК-матрицы.
- **Слух** — микрофоны, направленные и круговые.
- **Ближний периметр** — ультразвук, лидар, ToF-датчики, инфракрасные датчики расстояния.
- **Осязание** — тактильные датчики, датчики нагрузки, концевики, бамперы.
- **Вестибулярный блок** — IMU (акселерометр, гироскоп, компас).
- **Позиционирование** — GPS/GLONASS (опционально), одометрия, энкодеры колёс/суставов.
- **Служебные сенсоры** — температура, напряжение, ток, состояние батарей, состояние приводов.

Набор сенсоров зависит от профиля тела (BodyCore) и задач.

---

## 2. Нормализация и слои

SensorCore приводит сырые сигналы к единому формату:

- единицы измерения (метры, градусы, секунды);
- система координат (локальная и глобальная);
- временные метки, согласованные с HeartCore.

Данные проходят три слоя:

1. **RawLayer** — сырой поток от железа.
2. **FilterLayer** — фильтрация шумов, сглаживание, отсев аномалий.
3. **FeatureLayer** — выделение признаков (объекты, препятствия, направление движения, уровни звука и т.п.).

В репозитории описываются только **уровни и принципы**, без алгоритмов обработки.

---

## 3. Каналы связи с OrganismCore

SensorCore передаёт данные в организм через:

- **state_stream** — общая картина мира с частотой heartbeat;
- **event_stream** — отдельные события (удар, падение, крик, резкий свет, перегрев);
- **safety_stream** — критические сигналы, которые дублируются в BodyCore / ImmuneCore.

При этом:

- safety_stream имеет высший приоритет;
- event_stream может сжиматься или объединяться;
- state_stream может снижать частоту при экономии энергии (режимы EnergyCore).

---

## 4. Связь с ImmuneCore и Kupol

SensorCore передаёт в ImmuneCore:

- аномальные паттерны (столкновение, внезапный рывок, шум выше порога);
- подозрительные источники команд или сигнала (внешние маяки, радиопомехи);
- повторяющиеся опасные сценарии.

ImmuneCore на основе этого:

- усиливает ограничения движения;
- переводит систему в ALERT или ATTACK;
- может запросить у BodyCore немедленный SAFE_HOLD.

Kupol использует данные SensorCore для:

- побудови «запретных зон»;
- контроля дистанции до людей и объектов;
- блокировки определённых направлений движения.

---

## 5. Энергосбережение и деградация

SensorCore умеет работать в разных режимах:

- **FULL** — все сенсоры активны, максимум информации.
- **REDUCED** — часть сенсоров отключена, частота опроса снижена.
- **MINIMAL** — остаются только критические: периметр, тактильные, энергия.
- **DIAGNOSTIC** — режим самопроверки.

Режим задаётся EnergyCore / PolicyEngine в зависимости от уровня энергии и сценария.

---

### Author / Origin

**StarMint Genesis (Creator)**  
KITI · KITI-Organism · SensorCore
