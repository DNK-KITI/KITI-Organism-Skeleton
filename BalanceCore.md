# BalanceCore · Модуль баланса и устойчивости KITI

## 1. Назначение модуля

BalanceCore отвечает за распределение центра масс, сохранение устойчивости
и контроль положения корпуса организма в условиях движения, ускорений,
внешних воздействий, касаний поверхности и динамических изменений позы.

Основные задачи:
- вычисление текущего центра масс (COM),
- прогноз смещения COM при действиях MotorCore,
- контроль устойчивости при старте/остановке движения,
- предотвращение падений и критических углов наклона,
- анализ взаимодействия с поверхностью,
- адаптация позы для сохранения хода выполнения задач.

---

## 2. Каналы данных

BalanceCore получает данные от:

- OrientationCore (углы, повороты, ускорения),
- MotorCore (планируемые движения),
- SensorCore (тип поверхности, реактивные силы),
- BodyCore (геометрия корпуса и конечностей),
- StabilityCore (критические точки устойчивости).

---

## 3. Алгоритмы

- расчёт COM по кинематической модели тела,
- определение зоны устойчивости (ZS),
- прогноз нарушений равновесия,
- выбор корректирующих движений,
- подстройка позы под сложные условия (уклоны, неровности, скользкая поверхность).

---

## 4. Выходные данные

BalanceCore генерирует:
- корректирующие команды для MotorCore,
- предупреждения ImmuneCore о рисках падения,
- обновлённые параметры позы для BodyCore,
- вектор устойчивости для StabilityCore.

---

## 5. Связь с другими модулями

BalanceCore является центральным элементом цепочки:
OrientationCore → BalanceCore → MotorCore / StabilityCore.

Это обеспечивает плавное движение, отсутствие завалов и способность организма
устойчиво выполнять сложные действия (повороты, ускорения, прыжки, подъёмы).
