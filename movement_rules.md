# MOVEMENT RULES · Правила движений организма KITI

Этот модуль определяет законы, по которым организм KITI может и НЕ может двигаться.
Movement Rules — это система ограничений, фильтров и логики безопасности,
которая контролирует каждое действие двигателя, конечности и тела.

---

## 1. Типы правил

### • Kinematic Rules
Ограничения скоростей, предельных углов, амплитуд и усилий.

### • Stability Rules
Запрет движений, ведущих к потере устойчивости.

### • Safety Rules
Защита от опасных действий:
- перегрузка,
- удар о препятствие,
- слишком резкое ускорение,
- самоповреждение.

### • Behaviour Rules
Фильтры поведения:
- нельзя наступать на острые поверхности,
- нельзя подходить к краю без проверки опоры,
- ограничения в узком пространстве.

---

## 2. Архитектура правил

Все правила разделены на слои:

1) **Base Layer** — фундаментальные законы (гравитация, кинематика).  
2) **Safety Layer** — усилия, ограничения суставов, ограничения энергии.  
3) **Context Layer** — правила для конкретных задач.  
4) **AI Behaviour Layer** — поведенческие фильтры.

---

## 3. Как работает Movement Rules

1. Модуль получает план от MotorPlanningCore.  
2. Каждый шаг проверяется по всем слоям.  
3. Если движение нарушает правило → блокируется.  
4. Если движение допустимо → отправляется в MotorCore.  

Правила могут в реальном времени переписываться контекстом
(например, режим "Транспорт", "Тонкий проход", "Аварийный выход").

---

## 4. Взаимодействие с контуром

- MotorPlanningCore — что делать  
- Stability — можно ли удержать равновесие  
- SensorCore — есть ли опасность  
- MotorCore — исполняет разрешённые движения  
- ReflexCore — аварийные отмены движений  

---

## 5. Логирование

SRL-теги:
- "movement_blocked",
- "rule_violation",
- "rule_override",
- "movement_allowed".
