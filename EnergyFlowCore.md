# EnergyFlowCore — модуль распределения энергии

EnergyFlowCore управляет подачей энергии ко всем исполнительным и сенсорным модулям KITI.  
Он обеспечивает устойчивую работу организма даже при резких нагрузках, колебаниях питания или переходе в экономные режимы.

Назначение модуля:
1. Контроль распределения энергии между органами.  
2. Выбор приоритетов, когда ресурса недостаточно.  
3. Переход в LOW, NORMAL или HIGH режимы.  
4. Поддержка стабильности сердечного цикла и внутренних процессов.  
5. Предотвращение просадок питания у критических модулей.

Использует данные от:
- MotorCore  
- SensorFusionCore  
- ForceDistributionCore  
- LogicCore  
- StabilityCore  

Функции:
- оценка текущего энергопотребления;  
- расчет энергетических ограничений;  
- выдача квот модулям;  
- контроль превышений нагрузки;  
- подготовка сигналов для EmergencyCore.

Вход:
power_state, load_state

Выход:
energy_map, throttling_commands
