# TrajectoryCore · Траектории движений KITI

## 1. Назначение модуля

TrajectoryCore строит траектории движения для конечностей и корпуса организма.
Это основной высокоуровневый планировщик плавных, безопасных и точных
перемещений.

Модуль управляет:

- формированием пути для шагов, прыжков, поворотов,
- плавностью перемещения конечностей,
- избежанием столкновений с объектами и собственной геометрией,
- синхронизацией движения с MotorCore и OrientationCore,
- подготовкой предварительных и промежуточных поз.

---

## 2. Источники данных

TrajectoryCore получает данные:

- OrientationCore — ориентация, ускорения,
- MotorCore — силовые возможности и ограничения,
- BodyCore — геометрия тела и суставные пределы,
- SensorCore — препятствия, высоты, края поверхностей,
- EnvironmentCore — карта окружающего мира (если активна).

---

## 3. Алгоритмы

TrajectoryCore использует:

- spline-планирование,
- прогноз позы на несколько шагов,
- адаптацию к скольжению и неровностям поверхности,
- расчёт оптимального шага при ходьбе,
- плавную коррекцию пути при движения по сложному рельефу,
- минимизацию затрат энергии (в связке с EnergyCore).

---

## 4. Выходные данные

Модуль отдаёт:

- ключевые точки траектории,
- временные метки для MotorCore,
- безопасные рамки подвижности,
- предупреждения StabilityCore о рисках.

---

## 5. Интеграция в организм

TrajectoryCore связывает:

SensorCore → TrajectoryCore → MotorPlanningCore → MotorCore.

Это обеспечивает точность и плавность действий — ходьба, бег, повороты,
манёвры, подъём по ступенькам, обход препятствий.

---

## 6. Применение в робототехнике

TrajectoryCore — модуль, который делает поведение KITI похожим на живой организм:
плавные движения, отсутствие рывков, адаптация под внешний мир,
естественная походка и реакции.
