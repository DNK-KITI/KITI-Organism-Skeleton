# JOINT CONTROL · Управление суставами организма KITI

Модуль Joint Control отвечает за низкоуровневое управление каждым суставом
организма: угол, скорость, усилие, ограничение, компенсация нагрузки,
обратная связь и защита от повреждений.

---

## 1. Основная задача модуля

- точный контроль отдельных суставов,
- корректировка положения в реальном времени,
- безопасное исполнение команд MotorCore,
- учёт нагрузки, веса, баланса и ограничений,
- защита суставов от перегрузки.

Joint Control — это «мышцы и сухожилия» в цифровом исполнении.

---

## 2. Что модуль принимает как вход

### • MotorCore  
Команды: угол, скорость, усилие.

### • Coordination  
Корректирующие углы и плавность движения.

### • Stability  
Необходимые поправки для удержания равновесия.

### • SensorCore  
Углы, давление, вибрации, температура.

### • BodyDamageCore  
Информация о поврежденных зонах.

---

## 3. Внутренние параметры сустава

Каждый сустав имеет:

- *current_angle* — текущий угол;  
- *target_angle* — требуемый угол;  
- *max_angle/min_angle* — безопасные пределы;  
- *load_limit* — предельная нагрузка;  
- *temperature_limit* — тепловой порог;  
- *smooth_factor* — коэффициент плавности;  
- *stiffness* — жёсткость сустава;  
- *recovery_mode* — режим восстановления после перегрузки.

---

## 4. Алгоритм работы модуля

1. Проверить текущий угол.  
2. Вычислить безопасный диапазон.  
3. Если команда выходит за пределы → обрезать до безопасного значения.  
4. Сгладить движение (smooth).  
5. Отправить сигнал двигателю.  
6. Получить обратную связь.  
7. При необходимости включить защиту (block, limit, cooldown).  

Коррекции выполняются сотни раз в секунду.

---

## 5. Защитные механизмы

- ограничение силы,
- ограничение угла,
- температурный лимит,
- авто-замедление,
- экстренная блокировка в аварийных ситуациях,
- soft-stop и hard-stop.

---

## 6. Логи SRL

Записываются теги:

- "joint_move",
- "joint_safe_limit",
- "joint_block",
- "joint_overload",
- "joint_cooldown",
- "joint_restore".
