# LIMB CONTROLLER · Контроллер конечностей организма KITI

Limb Controller управляет целой конечностью (нога, рука, хвост, крыло).
Это надстройка над Joint Control, которая объединяет несколько суставов
в единый механизм движения.

---

## 1. Функция модуля

- координация всех суставов конечности,
- выполнение сложных движений (шаг, мах, толчок, хват),
- балансировка нагрузки,
- распределение усилий,
- адаптация под поверхность и сопротивление.

Limb Controller — это «движок движения» конечности.

---

## 2. Входные данные

### • MotorPatterns  
Готовые паттерны: шаг, прыжок, подъем, хват, перенос.

### • Coordination  
Команды синхронизации между конечностями.

### • Stability  
Коррекции для удержания равновесия.

### • SensorCore  
Давление, касание, отклонение, вибрации.

### • EnvironmentCore  
Тип поверхности (трава, бетон, лёд, песок).

---

## 3. Архитектура конечности

Каждая конечность состоит из слоёв:

1. **Root Joint** — базовый сустав, управляющий направлением.  
2. **Middle Joints** — суставы распределения нагрузки.  
3. **End Joint** — конечная точка (ступня, кисть, захват).  
4. **Touch Sensors** — сенсор контакта.  
5. **Force Sensors** — нагрузочные датчики.  
6. **Local Stability Node** — локальная устойчивость.

---

## 4. Логика движения

Модуль выполняет:

1. Построение траектории.  
2. Разделение траектории на микрошаги.  
3. Определение оптимального усилия для каждого сустава.  
4. Проверку стабильности перед выполнением.  
5. Исполнение через Joint Control.  
6. Коррекцию в реальном времени.

---

## 5. Механизм обратной связи

Каждый шаг проверяет:

- контакт ступни,
- давление,
- вибрации,
- микроподскальзывание,
- распределение веса,
- сопротивление поверхности.

При аномалиях корректировка отправляется в Coordination.

---

## 6. SRL-теги

- "limb_step",
- "limb_move",
- "limb_support_shift",
- "limb_balance_fix",
- "limb_error",
- "limb_contact_lost",
- "limb_contact_ok".
